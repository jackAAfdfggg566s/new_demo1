è¿™ä¸ªç‚¹å¾ˆå…³é”® âš¡ï¼Œå¾—åŒºåˆ†æ¸…æ¥š Aurora Custom Endpoint çš„ä½œç”¨èŒƒå›´å’Œ æ•…éšœåˆ‡æ¢ (failover) è¡Œä¸ºã€‚


---

1. Custom Endpoint çš„æœ¬è´¨

å®ƒåªæ˜¯ä¸€ä¸ª DNS åˆ«åï¼ŒæŒ‡å‘ä½ æŒ‘é€‰çš„ä¸€ç»„ Aurora å®ä¾‹ï¼ˆwriter æˆ– reader æˆ–æ··åˆï¼‰ã€‚

ä¸åšè¿æ¥æ± ï¼Œä¸åšçŠ¶æ€ç®¡ç†ï¼Œå®Œå…¨æ˜¯ DNS è§£æå±‚ã€‚



---

2. å¦‚æœä½ é…ç½®çš„ Custom Endpoint é‡ŒåŒ…å« Writer

å‡è®¾ custom endpoint é‡Œåªæœ‰ writerï¼š

Writer æŒ‚æ‰ â†’ Aurora è‡ªåŠ¨ failoverï¼Œä¸€ä¸ª reader å‡çº§ä¸ºæ–°çš„ writerã€‚

ä½†æ˜¯ custom endpoint ä¸ä¼šè‡ªåŠ¨æŒ‡å‘æ–°çš„ writerï¼Œå› ä¸º custom endpoint ç»‘å®šçš„æ˜¯â€œå®ä¾‹æ± â€ï¼Œè€Œä¸æ˜¯â€œè§’è‰²â€ã€‚

ç»“æœï¼šåº”ç”¨è¿è¿™ä¸ª endpointï¼Œä¼šè¿åˆ°æ—§ writerï¼ˆå·²æŒ‚ï¼‰ï¼Œç›´åˆ° DNS æ›´æ–°æˆ–ä½ æ‰‹åŠ¨è°ƒæ•´å®ä¾‹æ± ã€‚



ğŸ‘‰ æ‰€ä»¥ å¦‚æœ custom endpoint åªåŒ…å« writerï¼Œfailover æ—¶åº”ç”¨å¯èƒ½ä¼šè¿ä¸ä¸Šï¼Œéœ€è¦åº”ç”¨ç«¯é‡è¯•å¹¶ç­‰ DNS åˆ·æ–°ï¼Œæˆ–è€…ä½ æ›´æ–° custom endpoint çš„æˆå‘˜ã€‚


---

3. å¦‚æœä½ é…ç½®çš„ Custom Endpoint é‡ŒåŒ…å« Readers

å¦‚æœ endpoint æ˜¯è¯»æµé‡æ± ï¼ˆåªåŒ…å« readersï¼‰ï¼š

Writer æŒ‚äº†ä¸å½±å“ï¼Œå› ä¸º readers è¿˜åœ¨ã€‚

ä½†æ³¨æ„ï¼Œå‡æ ¼æˆæ–°çš„ writer çš„å®ä¾‹ä¼šä» custom endpoint æ± é‡Œæ¶ˆå¤±ï¼ˆå› ä¸º custom endpoint å½“æ—¶é€‰çš„æ˜¯ â€œreader role å®ä¾‹â€ï¼‰ã€‚




---

4. æ­£ç¡®çš„åšæ³•

å†™æµé‡ï¼šç”¨ Cluster endpointï¼ˆå®ƒæ°¸è¿œæŒ‡å‘å½“å‰ writerï¼Œfailover æ—¶ä¼šè‡ªåŠ¨æ›´æ–°ï¼‰ã€‚

è¯»æµé‡ï¼šç”¨ Reader endpointï¼ˆå®ƒæ°¸è¿œåªåŒ…å«æ‰€æœ‰å¯ç”¨ readerï¼Œfailover ä¸å—å½±å“ï¼‰ã€‚

Custom endpointï¼šåªæ¨èç”¨äºç‰¹æ®Šè¯»æµé‡åˆ†ç»„ï¼ˆæ¯”å¦‚â€œæŠ¥è¡¨ä¸“ç”¨çš„å‡ ä¸ª readerâ€ï¼‰ã€‚

ä¸é€‚åˆæ‰¿è½½å†™æµé‡ï¼Œå› ä¸º failover æ—¶å®ƒä¸ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æ–°çš„ writerã€‚




---

ğŸ”‘ æ€»ç»“

Custom endpoint ä¸å…·å¤‡è‡ªåŠ¨ failover çš„è¯­ä¹‰ã€‚

å¦‚æœ ä¸»æŒ‚äº†ï¼š

ç”¨ custom endpoint æŒ‡å‘ writer â†’ âŒ åº”ç”¨ä¸èƒ½é€æ˜é‡è¿ã€‚

ç”¨ cluster endpoint â†’ âœ… å¯ä»¥è‡ªåŠ¨è¿åˆ°æ–° writerã€‚




---

è¦ä¸è¦æˆ‘å¸®ä½ æ•´ç†ä¸€ä¸ª â€œå„ç±» endpoint åœ¨ failover ä¸‹çš„è¡Œä¸ºå¯¹æ¯”è¡¨â€ï¼Œè®©ä½ ç›´è§‚å¯¹æ¯” cluster / reader / customï¼Ÿ

