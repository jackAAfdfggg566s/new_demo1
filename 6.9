ä½ æƒ³è¦é€šè¿‡ AWS CloudWatch Logs Insight æŸ¥è¯¢æ—¥å¿—ä¸­åŒ…å«å…³é”®å­— fixAA-xxxï¼Œå¹¶ç»Ÿè®¡ä¸åŒ xxx çš„å”¯ä¸€ ID å‡ºç°æ¬¡æ•°ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ Logs Insight æŸ¥è¯¢è¯­å¥ï¼š


---

âœ… ç¤ºä¾‹æŸ¥è¯¢è¯­å¥ï¼š

fields @message
| filter @message like /fixAA-[a-zA-Z0-9_-]+/
| parse @message "fixAA-*" as fix_id
| stats count(*) as total by fix_id
| sort total desc


---

ğŸ” è¯´æ˜ï¼š

filter @message like /fixAA-[a-zA-Z0-9_-]+/ï¼šåŒ¹é…åŒ…å«ç±»ä¼¼ fixAA-123ã€fixAA-abc_xyz çš„æ—¥å¿—ã€‚

parse @message "fixAA-*" as fix_idï¼šæå– fixAA- åçš„éƒ¨åˆ†ä½œä¸º fix_idã€‚

stats count(*) as total by fix_idï¼šå¯¹æ¯ä¸ª fix_id ç»Ÿè®¡å‡ºç°æ¬¡æ•°ã€‚

sort total descï¼šæŒ‰æ•°é‡é™åºæ’åˆ—ã€‚



---

ğŸ›  å¦‚æœä½ çš„æ—¥å¿—æ ¼å¼æ›´å¤æ‚ï¼š

å‡è®¾æ—¥å¿—æ˜¯ç»“æ„åŒ–çš„ï¼Œæ¯”å¦‚ JSON æˆ–å¸¦æœ‰ç‰¹å®šå­—æ®µï¼Œæ¯”å¦‚ï¼š

{"id": "fixAA-123", "status": "done"}

ä½ å¯ä»¥ä½¿ç”¨ï¼š

fields id
| filter id like /fixAA-/
| parse id "fixAA-*" as fix_id
| stats count(*) as total by fix_id


---

å¦‚æœä½ èƒ½è´´å‡ºä¸€æ¡æ—¥å¿—æ ·æœ¬ï¼Œæˆ‘å¯ä»¥å¸®ä½ ç²¾ç¡®å†™å‡ºæœ€åŒ¹é…çš„ parse è¡¨è¾¾å¼ã€‚ä½ ä¹Ÿå¯ä»¥å‘Šè¯‰æˆ‘æ˜¯å¦ fixAA-xxx å‡ºç°åœ¨å­—æ®µä¸­ï¼Œè¿˜æ˜¯çº¯æ–‡æœ¬ä¸­ã€‚

