è¿™æ˜¯ä¸ªéå¸¸å…³é”®ã€ä¹Ÿå¾ˆå®¹æ˜“æ··æ·†çš„ç‚¹ ğŸ‘Œ
ä½ çœ‹åˆ°éƒ½æ˜¯ Evictedï¼Œä½†Evicted â‰  ä¸€å®šæ˜¯ node ç£ç›˜æ»¡ã€‚æˆ‘ä»¬ä¸€æ­¥æ­¥**â€œå®é”¤ç¡®è®¤â€**ã€‚
ä¸€ã€å…ˆç»™ä½ ç»“è®ºï¼ˆåˆ¤æ–­æ ‡å‡†ï¼‰
æ˜¯å¦æ˜¯ node ç£ç›˜æ»¡ï¼Œçœ‹çš„æ˜¯ Node äº‹ä»¶å’Œ Conditionï¼Œè€Œä¸æ˜¯åªçœ‹ Pod çŠ¶æ€ã€‚
äºŒã€ä¸‰æ­¥ç¡®è®¤æ³•ï¼ˆæœ€é è°±ï¼‰
âœ… ç¬¬ 1 æ­¥ï¼šçœ‹ Pod çš„ Evicted Messageï¼ˆåˆåˆ¤ï¼‰
å¤åˆ¶ä»£ç 
Bash
kubectl describe pod <pod-name>
é‡ç‚¹çœ‹è¿™å‡ è¡Œï¼š
ğŸ‘‰ Node ç£ç›˜å‹åŠ›å¯¼è‡´ï¼ˆnode-levelï¼‰
å¤åˆ¶ä»£ç 
Text
Reason: Evicted
Message: The node was low on resource: ephemeral-storage
æˆ–ï¼š
å¤åˆ¶ä»£ç 
Text
Message: The node had disk pressure
ğŸ“Œ è¯´æ˜ï¼š
Node çš„ç£ç›˜å·²ç»ç´§å¼ æˆ–æ»¡äº†
Pod æ˜¯â€œè¢«æ®ƒåŠæ± é±¼â€
ğŸ‘‰ Pod è¶…è¿‡è‡ªèº« limitï¼ˆpod-levelï¼‰
å¤åˆ¶ä»£ç 
Text
Message: Pod ephemeral storage usage exceeds the total limit of containers
ğŸ“Œ è¯´æ˜ï¼š
Node æ²¡äº‹
Pod è‡ªå·±è¶…é™ï¼Œè¢«å®šç‚¹æ¸…é™¤
âœ… ç¬¬ 2 æ­¥ï¼šçœ‹ Node Conditionï¼ˆå®é”¤ï¼‰
è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼š
å¤åˆ¶ä»£ç 
Bash
kubectl describe node <node-name>
æ‰¾è¿™ä¸€æ®µï¼š
å¤åˆ¶ä»£ç 
Text
Conditions:
  Type             Status
  DiskPressure     True
å¦‚æœçœ‹åˆ°ï¼š
å¤åˆ¶ä»£ç 
Text
DiskPressure: True
âœ… é“è¯å¦‚å±±ï¼šNode ç£ç›˜å‹åŠ›
å¦‚æœæ˜¯ï¼š
å¤åˆ¶ä»£ç 
Text
DiskPressure: False
âŒ è¯´æ˜ä¸æ˜¯ node ç£ç›˜é—®é¢˜
âœ… ç¬¬ 3 æ­¥ï¼šçœ‹ Node äº‹ä»¶ï¼ˆæœ€ç»ˆç¡®è®¤ï¼‰
å¤åˆ¶ä»£ç 
Bash
kubectl get events \
  --field-selector involvedObject.kind=Node,involvedObject.name=<node-name> \
  --sort-by='.lastTimestamp'
ä½ å¯èƒ½ä¼šçœ‹åˆ°ï¼š
å¤åˆ¶ä»£ç 
Text
NodeHasDiskPressure
EvictionThresholdMet
è¿™äº›äº‹ä»¶åªä¼šåœ¨ node ç£ç›˜ä¸è¶³ æ—¶å‡ºç°ã€‚
ä¸‰ã€å¿«é€Ÿå¯¹ç…§è¡¨ï¼ˆä½ å¯ä»¥ç›´æ¥ç”¨ï¼‰
ç°è±¡
ç»“è®º
Pod Evicted + Message æåˆ° node was low on resource
Node çº§ç£ç›˜å‹åŠ›
Pod Evicted + Message æåˆ° exceeds storage limit
Pod è‡ªå·±è¶…é™
Node DiskPressure=True
Node ç£ç›˜çœŸçš„æ»¡äº†
Node DiskPressure=False
Node æ²¡æ»¡
å…¶ä»– Pod ä¹Ÿè¢«é©±é€
Node çº§é—®é¢˜
åªæœ‰ä¸€ä¸ª Pod å‡ºé—®é¢˜
æ›´å¯èƒ½æ˜¯ Pod limit
å››ã€ä½ è¿™ä¸ªåœºæ™¯çš„â€œé«˜æ¦‚ç‡åˆ¤æ–­â€
ç»“åˆä½ å‰é¢çš„ä¿¡æ¯ï¼š
âŒ æ²¡è®¾ç½® ephemeral-storage limit
ğŸ“ˆ Pod å†™äº†åå‡  GB æ–‡ä»¶
â— æŠ¥é”™ï¼šthe node was low on resource
ğŸ‘‰ 99% æ˜¯ Node ç£ç›˜å‹åŠ›ï¼Œè€Œä¸æ˜¯ Pod è‡ªå·±çš„ limit
äº”ã€è‹±æ–‡è¯´æ˜ï¼ˆä½ å¯ä»¥ç›´æ¥ç”¨ï¼‰
Although the pod status shows Evicted, the root cause was node-level disk pressure rather than a pod-level storage limit violation.
This was confirmed by the node condition DiskPressure=True and node events indicating disk pressure.
The eviction was triggered to protect node stability after excessive disk consumption by the workload.
å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥å¸®ä½ å†™ä¸€ä¸ªä¸€æ¡å‘½ä»¤å°±èƒ½åŒæ—¶è¾“å‡º Pod message + Node DiskPressure + Node events çš„æ’æŸ¥è„šæœ¬ï¼Œä¸“é—¨ç”¨æ¥å½“â€œè¯æ®æ”¶é›†â€ã€‚
è¦ä¸è¦ï¼Ÿ