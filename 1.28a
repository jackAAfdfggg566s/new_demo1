å¥½ï¼Œè¿™é‡Œæ˜¯æ•´åˆåçš„ Jira Defect è‹±æ–‡ç‰ˆæœ¬ï¼Œæˆ‘å·²ç»æ˜ç¡®åŠ ä¸Šäº† Expected Result å’Œ Actual Resultï¼Œé€»è¾‘ä¹Ÿæ›´ç¬¦åˆ Jira reviewer / SRE è§†è§’ ğŸ‘
ä½ å¯ä»¥ç›´æ¥æ•´æ®µç²˜è¿›å»ã€‚
Title (Defect)
Missing Pod Ephemeral Storage Limit Caused Node Disk Pressure and New Pod Evictions
Description
Issue Summary
It was identified that an existing pod was deployed without an ephemeral storage (disk) limit.
During testing, this pod continuously consumed disk space on the node.
As a result, the node entered a disk pressure condition. While the original three pods remained in Running state, newly created pods were evicted immediately after scheduling.
Actual Result
The original 3 pods remained in Running state
Node experienced disk resource pressure
New pods scheduled to the same node were evicted
Evicted pods showed status Evicted, caused by node-level resource pressure
Pod scaling and new workload deployment failed on the affected node
Expected Result
Pods should have ephemeral-storage requests and limits defined
Disk-intensive behavior should be isolated to the offending pod
Node should remain healthy and capable of scheduling new pods
A single pod should not cause node-wide disk pressure or eviction of other pods
Impact
New pod creation and scaling were blocked
Workloads could not be scheduled successfully on the node
The node appeared operational, but was effectively unavailable for new workloads
Root Cause
The pod specification did not define ephemeral-storage limits
Unbounded disk consumption led to node disk pressure
Kubernetes eviction mechanism evicted new or lower-priority pods first, allowing existing pods to continue running
Recommendation / Fix
Define ephemeral-storage requests and limits for all pods
Enforce resource constraints via policy (e.g. admission controller / policy validation)
Add monitoring and alerts for node disk pressure and pod eviction events
å¦‚æœä½ æ‹…å¿ƒ reviewer ä¼šé—®ï¼š
â€œWhy are existing pods still running while new pods are evicted?â€
æˆ‘å¯ä»¥å†å¸®ä½ åŠ ä¸€å°æ®µ Technical Notes / Kubernetes Behavior Explanationï¼Œç”¨æ¥æå‰â€œå µå˜´â€ğŸ˜„