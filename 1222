å¯ä»¥çš„ï¼Œè¿™ä¸ªåœ¨ Aurora RDS é‡Œå¾ˆå¸¸è§ã€‚ä¸‹é¢ç»™ä½ ä¸€ä¸ªå®ç”¨ã€å¯ç›´æ¥ç”¨çš„ AWS CLI æ–¹æ³•ï¼Œæ ¹æ® cluster nameï¼ˆDB cluster identifierï¼‰è·å–ä¸»åº“ / ä»åº“å„è‡ªæ‰€åœ¨çš„ AZã€‚
ä¸€ã€æ ¸å¿ƒæ€è·¯ï¼ˆå…ˆè®©ä½ ä¸è¿·ç³Šï¼‰
Cluster æœ¬èº«æ²¡æœ‰ä¸»ä» AZ
ä¸» / ä»æ˜¯åœ¨ DB instances ä¸Š
é€»è¾‘æ˜¯ï¼š
ç”¨ cluster name æ‰¾åˆ°æ‰€æœ‰ DB instances
åˆ¤æ–­å“ªä¸ªæ˜¯ Writerï¼ˆä¸»ï¼‰
è¯»å–æ¯ä¸ª instance çš„ AvailabilityZone
äºŒã€ä¸€æ­¥åˆ°ä½ï¼ˆæ¨èç”¨æ³•ï¼‰
âœ… å‘½ä»¤ï¼šæ ¹æ® cluster name è·å–ä¸»ä» + AZ
å¤åˆ¶ä»£ç 
Bash
aws rds describe-db-instances \
  --query "DBInstances[?DBClusterIdentifier=='your-cluster-name'].{\
Role:DBInstanceRole,\
Instance:DBInstanceIdentifier,\
AZ:AvailabilityZone}" \
  --output table
ğŸ“Œ è¾“å‡ºç¤ºä¾‹
å¤åˆ¶ä»£ç 

----------------------------------------
|        DescribeDBInstances            |
+---------+----------------+------------+
| Role    | Instance       | AZ         |
+---------+----------------+------------+
| WRITER  | aurora-1       | ap-southeast-2a |
| READER  | aurora-2       | ap-southeast-2b |
| READER  | aurora-3       | ap-southeast-2c |
+---------+----------------+------------+
âœ”ï¸ ä¸€çœ¼å°±èƒ½çœ‹å‡º å“ªä¸ªæ˜¯ä¸»ã€å“ªä¸ªæ˜¯ä»ã€å„è‡ªåœ¨å“ªä¸ª AZ
ä¸‰ã€å¦‚æœä½ åªæƒ³å•ç‹¬æ‹¿ä¸» / ä»
ğŸ”¹ åªæ‹¿ä¸»åº“ AZ
å¤åˆ¶ä»£ç 
Bash
aws rds describe-db-instances \
  --query "DBInstances[?DBClusterIdentifier=='your-cluster-name' && DBInstanceRole=='WRITER'].AvailabilityZone" \
  --output text
ğŸ”¹ åªæ‹¿ä»åº“ AZï¼ˆå¤šä¸ªï¼‰
å¤åˆ¶ä»£ç 
Bash
aws rds describe-db-instances \
  --query "DBInstances[?DBClusterIdentifier=='your-cluster-name' && DBInstanceRole=='READER'].AvailabilityZone" \
  --output text
å››ã€Shell è„šæœ¬å¯ç›´æ¥ç”¨ï¼ˆä½ ä¹‹å‰ç»å¸¸å†™ shï¼‰
å¤åˆ¶ä»£ç 
Bash
CLUSTER_NAME="your-cluster-name"

aws rds describe-db-instances \
  --query "DBInstances[?DBClusterIdentifier=='${CLUSTER_NAME}'].{Role:DBInstanceRole,AZ:AvailabilityZone}" \
  --output text
è¾“å‡ºï¼š
å¤åˆ¶ä»£ç 

WRITER  ap-southeast-2a
READER  ap-southeast-2b
READER  ap-southeast-2c
äº”ã€âš ï¸ å¸¸è§å‘ï¼ˆæå‰å¸®ä½ é¿ï¼‰
âŒ describe-db-clusters æ‹¿ä¸åˆ°ä¸»ä» AZ
âŒ ç”¨ MultiAZ åˆ¤æ–­ä¸»ä»ï¼ˆé‚£æ˜¯é Aurora çš„æ¦‚å¿µï¼‰
âœ… Aurora ä¸€å®šçœ‹ DBInstanceRole
å¦‚æœä½ ä¸‹ä¸€æ­¥æ˜¯æƒ³åšï¼š
ğŸ‘‰ æ ¹æ® AZ æ‰¾ subnet id
ğŸ‘‰ åˆ¤æ–­ä¸»æ˜¯å¦åœ¨ 2a
ğŸ‘‰ è‡ªåŠ¨ç»™ EC2 / RDS æ‰“ tag
ğŸ‘‰ å’Œä½ ä¹‹å‰çš„ for å¾ªç¯è„šæœ¬åˆå¹¶
ç›´æ¥æŠŠéœ€æ±‚ç”©æˆ‘ï¼Œæˆ‘æŒ‰ä½ ç°æœ‰è„šæœ¬é£æ ¼å¸®ä½ æ‹¼å®Œæ•´ ğŸ‘