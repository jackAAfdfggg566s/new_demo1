éå¸¸åˆç† ğŸ‘
ä½ è¿™ç§æƒ…å†µâ€”â€”åªæƒ³æ‹‰ä»£ç ï¼Œä¸è¦ä¸‹è½½/ä¿®æ”¹/æäº¤æŸä¸ªå¤§ç›®å½•â€”â€”æœ€åˆé€‚çš„æ–¹å¼æ˜¯ï¼š

> âœ… ä½¿ç”¨ Git Sparse Checkoutï¼ˆç¨€ç–æ£€å‡ºï¼‰



å®ƒå¯ä»¥è®©ä½ åªä¸‹è½½ã€åªçœ‹åˆ°ä½ å…³å¿ƒçš„ç›®å½•ï¼Œè·³è¿‡å¤§æ–‡ä»¶å¤¹ã€‚
ä¸‹é¢æ˜¯æœ€å®ç”¨ã€æœ€å®‰å…¨çš„åšæ³•ğŸ‘‡


---

ğŸ§© å®æˆ˜æ­¥éª¤ï¼šåªå…‹éš†éœ€è¦çš„éƒ¨åˆ†

å‡è®¾ä½ çš„ä»“åº“ç»“æ„å¦‚ä¸‹ï¼š

repo/
â”œâ”€â”€ src/
â”œâ”€â”€ scripts/
â”œâ”€â”€ bigdata/        # â† å¤ªå¤§ï¼Œä¸æƒ³å…‹éš†
â””â”€â”€ docs/

ä½ åªæƒ³è¦ src/ å’Œ scripts/ã€‚


---

ğŸªœ 1. ç¨€ç–å…‹éš†ï¼ˆSparse Cloneï¼‰

git clone --filter=blob:none --sparse <repo_url>
cd repo

è¯´æ˜ï¼š

--filter=blob:noneï¼šæŒ‰éœ€ä¸‹è½½æ–‡ä»¶å†…å®¹ï¼ˆèŠ‚çœå¸¦å®½ï¼‰

--sparseï¼šå¼€å¯ç¨€ç–æ¨¡å¼



---

ğŸªœ 2. æŒ‡å®šè¦ä¸‹è½½çš„ç›®å½•

git sparse-checkout set src scripts

Git åªä¼šä¸‹è½½å¹¶æ˜¾ç¤ºè¿™ä¸¤ä¸ªç›®å½•çš„å†…å®¹ã€‚
bigdata/ ç›®å½•ä¸ä¼šå‡ºç°åœ¨æœ¬åœ°ï¼Œä¹Ÿä¸ä¼šå ç©ºé—´ã€‚


---

ğŸªœ 3. ï¼ˆå¯é€‰ï¼‰æŸ¥çœ‹å½“å‰ç¨€ç–è®¾ç½®

git sparse-checkout list

è¾“å‡ºç±»ä¼¼ï¼š

src
scripts


---

ğŸªœ 4. ä¹‹åæ­£å¸¸å¼€å‘

ä½ å¯ä»¥ï¼š

git pull
git commit
git push

åªå½±å“ä½ æ£€å‡ºçš„éƒ¨åˆ†ã€‚ä¸ä¼šä¿®æ”¹æˆ–æäº¤ bigdata/ æ–‡ä»¶å¤¹ã€‚


---

ğŸªœ 5. å¦‚æœåæ¥éœ€è¦é‚£ä¸ªç›®å½•

å¯ä»¥éšæ—¶åŠ å›æ¥ï¼š

git sparse-checkout add bigdata


---

âœ… æ€»ç»“

ç›®æ ‡	æ–¹æ³•

ä¸æƒ³ä¸‹è½½æŸä¸ªç›®å½•	git sparse-checkout set <ä½ è¦çš„ç›®å½•>
èŠ‚çœä¸‹è½½ä½“ç§¯	git clone --filter=blob:none
ä»¥åå†åŠ å›æ¥	git sparse-checkout add <ç›®å½•>
ä¸å½±å“æäº¤å’Œ push	âœ”ï¸å®‰å…¨ï¼Œä¸ä¼šè¯¯åˆ 



---

è¦ä¸è¦æˆ‘å¸®ä½ å†™ä¸€ä¸ªå¯ä»¥ç›´æ¥å¤ç”¨çš„å°è„šæœ¬ï¼Œæ¯”å¦‚ï¼š

clone_partial.sh <repo_url> src scripts

ä¸€é”®å…‹éš†ä½ æƒ³è¦çš„ç›®å½•ï¼Ÿ