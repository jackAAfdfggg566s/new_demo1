å¦‚æœä½ åœ¨ echo é‡Œæ²¡çœ‹åˆ°å˜é‡ï¼Œå¤§æ¦‚ç‡æ˜¯ å˜é‡æ²¡æœ‰åœ¨å½“å‰ shell å±•å¼€ï¼Œæˆ–è€…è¢«å¼•å·å±è”½äº†ã€‚

æœ€å¸¸è§çš„é—®é¢˜æ˜¯è¿™ä¸€ç±» ğŸ‘‡

echo "${MY_VAR}"

åœ¨ è¿œç«¯å®¹å™¨ é‡Œæ²¡å±•å¼€ï¼Œå› ä¸ºè¿™æ˜¯åœ¨ sh -c "..." è¿™å±‚é‡Œè¢«å½“å­—é¢é‡å¤„ç†äº†ã€‚


---

âœ… æ­£ç¡®åšæ³•ï¼šå˜é‡åœ¨æœ¬æœºå…ˆå±•å¼€ï¼Œå†ä¼ åˆ° pod

ä¾‹å¦‚ï¼š

run_date="2025-10-20"
kubectl exec pod-name -- sh -c "echo $run_date"

âœ… è¿™æ ·å¯ä»¥
å˜é‡ $run_date åœ¨ æœ¬æœº å±•å¼€åå˜æˆå­—ç¬¦ä¸²å†ä¼ è¿›å»


---

âŒ é”™è¯¯ä¾‹å­ï¼šå˜é‡è¢«åŒå¼•å·ä¿æŠ¤ä½ï¼Œæ²¡å±•å¼€

kubectl exec pod-name -- sh -c "echo \"$run_date\""

åœ¨æŸäº› shell æƒ…å†µä¸‹ $run_date ä¼šåœ¨è¿œç«¯å†å±•å¼€ï¼Œæ­¤æ—¶å¦‚æœè¿œç«¯æ²¡æœ‰è¿™ä¸ªå˜é‡ => å˜æˆç©º


---

âœ… æœ€æ¨èå†™æ³•ï¼ˆå®Œæ•´ï¼‰

run_date=$(psql ... æŸ¥è¯¢SQL ...)
kubectl exec -i pod-name -- sh -c "echo run -d $run_date | java -jar /app/cli.jar"


---

å¦‚æœä½ æ˜¯è¿™æ ·å†™çš„ï¼š

kubectl exec -i pod-name -- sh -c "echo \"run -d ${run_date}\" | java -jar /app/cli.jar"

å°±ä¼šå¯¼è‡´ï¼š

${run_date} è¢« å½“å­—é¢å­—ç¬¦ä¸² è€Œä¸æ˜¯å˜é‡

å› ä¸ºè¢«å†…å±‚å¼•å·ä¿æŠ¤ä½



---

ğŸ”§ è§£å†³æ–¹å¼

åªè¦æŠŠå˜é‡æ”¾åœ¨å¤–å±‚ï¼Œshell å°±ä¼šå±•å¼€ï¼š

âœ… æ­£ç¡®ï¼š

kubectl exec -i pod-name -- sh -c "echo run -d $run_date | java -jar /app/cli.jar"

âŒ å¸¸è§é”™è¯¯ï¼š

kubectl exec -i pod-name -- sh -c "echo \"run -d ${run_date}\" | java -jar /app/cli.jar"


---

å¦‚æœè¿˜çœ‹ä¸åˆ°ï¼Œæˆ‘ç»™ä½ ä¸€ä¸ªè°ƒè¯•å‘½ä»¤ï¼š

echo "run -d $run_date"

å¦‚æœæœ¬æœºè¿™é‡Œå°±ä¸å¯¹ï¼Œé‚£å°±æ˜¯å˜é‡æ²¡å–åˆ°ï¼›
å¦‚æœæœ¬æœºå¯¹ï¼Œè¿› pod ä¸å¯¹ï¼Œå°±æ˜¯å¼•å·é—®é¢˜ã€‚


---

è¦ä¸è¦æˆ‘å¸®ä½ ç›´æ¥æ”¹æˆä½ å½“å‰é‚£æ¡å‘½ä»¤çš„æ­£ç¡®ç‰ˆæœ¬ï¼Ÿ

åªéœ€è¦å‘æˆ‘ä½ ç°åœ¨é‚£æ¡å¤±è´¥çš„å‘½ä»¤ï¼Œæˆ‘å¸®ä½ æ”¹æˆèƒ½è¿è¡Œçš„ âœ…
å¤åˆ¶ç²˜è´´åˆ°å›å¤å³å¯ã€‚

